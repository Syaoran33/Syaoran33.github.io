<!DOCTYPE html><html lang="en" theme-mode="auto"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ä»é›¶å¼€å§‹çš„æ‰‹æ¸¸è§£åŒ…æ•™ç¨‹-è§’è‰²èµ„æºç¯‡(å››) | Blog Here</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light' || window.matchMedia('(prefers-color-scheme:light)').matches) document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark' || window.matchMedia('(prefers-color-scheme:dark)').matches) document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><meta name="generator" content="Hexo 6.3.0"></head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li><li class="navItem"><a class="navBlock" href="/music/"><span class="navItemTitle">Music</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>ä»é›¶å¼€å§‹çš„æ‰‹æ¸¸è§£åŒ…æ•™ç¨‹-è§’è‰²èµ„æºç¯‡(å››)</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2021-02-07T16:00:00.000Z" id="date"> 2021-02-08</time></div></span><br><span>Last Update: <div class="control"><time datetime="2021-03-09T16:00:00.000Z" id="updated"> 2021-03-10</time></div></span></div></div><hr><div id="post-content"><blockquote>
<p>*<strong>ç”³æ˜ï¼š</strong></p>
<p><strong>åœ¨æ­¤ç”³æ˜ï¼Œä»…ä½œä¸ºéå•†ä¸šç”¨é€”çš„å­¦ä¹ äº¤æµå’Œä¸ªäººè®°å½•ç”¨é€”ï¼Œè¯·ä¸¥æ ¼éµå®ˆæ¸¸æˆç”¨æˆ·åå®šï¼Œå‹¿å°†æå–çš„æ¸¸æˆèµ„æºå‘å¸ƒåˆ°ä»»ä½•ç¬¬ä¸‰æ–¹å¹³å°ã€‚</strong></p>
<p><strong>å¦åˆ™å°†å¯èƒ½é€ æˆæ¸¸æˆå…¬å¸åˆ‡å®çš„åˆ©ç›ŠæŸå¤±ï¼Œä¸ä¸€äº›ä¸å¿…è¦çš„éº»çƒ¦ç”šè€…éœ€æ‰¿æ‹…ç›¸åº”çš„æ³•å¾‹è´£ä»»</strong></p>
<p><strong>æœ¬ç¯‡ä¸æˆæƒå¹¶ç¦æ­¢ä»»ä½•ç›®çš„çš„åˆ†äº«ã€è½¬è½½å’Œå¼•ç”¨ï¼Œæœ›ç†è§£</strong></p>
</blockquote>
<p>*æ³¨: æœ¬ç¯‡æ‰€æœ‰<code>æœ¯è¯­</code>éå®˜æ–¹ï¼Œéƒ¨åˆ†åè¯æœ¯è¯­æ˜¯æ ¹æ®è‹±æ–‡è¯­ä¹‰è¿›è¡Œç¿»è¯‘å’Œå®é™…åº”ç”¨è¿›è¡Œæ€»ç»“çš„<br>ç›¸å…³é‡Šä¹‰å’Œå¤‡æ³¨çš„å‡†ç¡®æ€§æœ‰å¾…å•†æ¦·ï¼Œå…¶åŠŸç”¨å’Œå¤§è‡´æ„æ€ä¼šå› æœ¬äººçš„ä¹ æƒ¯æ¯”è¾ƒä¸»è§‚çš„ä½“ç°</p>
<h2 id="èµ„æºç¼–å·"><a href="#èµ„æºç¼–å·" class="headerlink" title="èµ„æºç¼–å·"></a>èµ„æºç¼–å·</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><code>èµ„æºç¼–å·(AssetsId)</code>æ˜¯ä¸ºäº†ç¼–ç¨‹ä¸ºäº†æ–¹ä¾¿åŒºåˆ†è§’è‰²çš„ä¸€ç§ç¼–å·ã€‚å¯¹äºå¼€å‘è€…æ¯”è¾ƒå‹å¥½ï¼Œå¯ä»¥é€šè¿‡å…¶ç¼–å·ç‰¹å¾å¯¹ç¼–å·ç´¢å¼•ï¼Œå¿«é€Ÿæ‰¾åˆ°æŒ‡å®šæŸä¸€è§’è‰²ï¼ŒåŠå…¶å„é˜¶è§’è‰²ã€æŠ€èƒ½ä¹¦ç­‰</p>
<p>ä¾‹å¦‚ï¼šh0030s5(ç‰ ä¸‰é˜¶), b0037s4(æ™®å‰ äºŒé˜¶)ï¼Œh0097s5_a3(è¯ºç“¦ é€ å‹ä¹¦)</p>
<h3 id="ç¼–å·ç‰¹å¾"><a href="#ç¼–å·ç‰¹å¾" class="headerlink" title="ç¼–å·ç‰¹å¾"></a>ç¼–å·ç‰¹å¾</h3><p>ä»¥è¯ºç“¦ä¸ºä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">h      0097      s      5      _a3<br>ç§æ—   åºå·      æ‰€å±    é˜¶çº§   æŠ€èƒ½ä¹¦\é€ å‹ä¹¦<br></code></pre></td></tr></table></figure>

<h4 id="ç§æ—"><a href="#ç§æ—" class="headerlink" title="ç§æ—"></a>ç§æ—</h4><blockquote>
<p>*æ³¨ï¼šé›·äºšå¯¹äºç§æ—åˆ†ç±»çš„ç•Œå®šä¸æ˜¯ç‰¹åˆ«çš„ä¸¥è°¨ï¼Œéƒ¨åˆ†è§’è‰²å’Œå…¶å¯¹åº”çš„ç§æ—å­˜åœ¨äº›è®¸å·®å¼‚</p>
</blockquote>
<table>
<thead>
<tr>
<th>ç¼©å†™</th>
<th>æ¨æµ‹åŸç¼©å†™</th>
<th>é‡Šä¹‰</th>
<th>ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td>h</td>
<td>human</td>
<td>äººç±»ã€äºšç§äººç±»(äºšäºº)</td>
<td>å¸Œæ¬§ã€çŒ«çœ¼ã€ç‰</td>
</tr>
<tr>
<td>t</td>
<td>-</td>
<td>å…½äººã€æœ‰å°¾ç§æ—</td>
<td>åºã€æ´›ã€æ¨æ³¢</td>
</tr>
<tr>
<td>b</td>
<td>beast</td>
<td>é‡å…½</td>
<td>å¤é²ç“¦å¾·ã€æ™®å‰</td>
</tr>
<tr>
<td>r</td>
<td>robot</td>
<td>æœºæ¢°ã€æœºå·§</td>
<td>ç›è‰äºšã€å¤æ´›å…‹</td>
</tr>
<tr>
<td>e</td>
<td>-</td>
<td>-</td>
<td>è·ä¸ç¼‡é›…ã€è”“æœµèˆ</td>
</tr>
<tr>
<td>m</td>
<td>monster</td>
<td>é­”ç‰©ã€æ€ªå…½</td>
<td>å®éªŒä½“</td>
</tr>
<tr>
<td>n</td>
<td>-</td>
<td>-</td>
<td>å•¾å•¾ã€çŒ«å¤´é¹°å·</td>
</tr>
</tbody></table>
<h4 id="æ‰€å±"><a href="#æ‰€å±" class="headerlink" title="æ‰€å±"></a>æ‰€å±</h4><table>
<thead>
<tr>
<th>ç¼©å†™</th>
<th>æ¨æµ‹åŸç¼©å†™</th>
<th>é‡Šä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td>s</td>
<td>storybook</td>
<td>é­‚å†Œ</td>
</tr>
<tr>
<td>c</td>
<td>common</td>
<td>é€šç”¨ã€å‰§æƒ…</td>
</tr>
</tbody></table>
<h4 id="é˜¶çº§"><a href="#é˜¶çº§" class="headerlink" title="é˜¶çº§"></a>é˜¶çº§</h4><blockquote>
<p>*æ³¨ï¼šéƒ¨åˆ†æƒ…å†µå‰§æƒ…è§’è‰²ä¸å®ˆè¯¥é˜¶çº§é™åˆ¶</p>
</blockquote>
<table>
<thead>
<tr>
<th>ç¼–å·</th>
<th>å¯¹åº”é¢œè‰²</th>
<th>å¯¹åº”é˜¶çº§</th>
</tr>
</thead>
<tbody><tr>
<td>s2</td>
<td>ç°è‰²</td>
<td>-</td>
</tr>
<tr>
<td>s3</td>
<td>è“è‰²</td>
<td>ä¸€é˜¶</td>
</tr>
<tr>
<td>s4</td>
<td>ç´«è‰²</td>
<td>äºŒé˜¶</td>
</tr>
<tr>
<td>s5</td>
<td>é‡‘è‰²</td>
<td>ä¸‰é˜¶</td>
</tr>
</tbody></table>
<h4 id="æŠ€èƒ½ä¹¦-é€ å‹ä¹¦"><a href="#æŠ€èƒ½ä¹¦-é€ å‹ä¹¦" class="headerlink" title="æŠ€èƒ½ä¹¦\é€ å‹ä¹¦"></a>æŠ€èƒ½ä¹¦\é€ å‹ä¹¦</h4><blockquote>
<p>*æ³¨ï¼šé€šå¸¸æƒ…å†µä¸‹ï¼Œé€ å‹ä¹¦&#x2F;æŠ€èƒ½ä¹¦éƒ½æ˜¯ä»¥ä¸‰é˜¶è§’è‰²ä¸ºåŸå‹ã€‚</p>
<p>å°‘éƒ¨åˆ†å¦‚è’‚å¡-å†¬é’å°‘å¥³ï¼Œæ˜¯ä»¥äºŒé˜¶ä¸ºåŸå‹åˆ¶ä½œï¼Œå…¶ç¼–å·ä¹Ÿä¼šå› æ­¤æ”¹å˜h0010s4_a3</p>
</blockquote>
<table>
<thead>
<tr>
<th>ç¼–å·</th>
<th>ç±»å‹</th>
</tr>
</thead>
<tbody><tr>
<td>_a2</td>
<td>æŠ€èƒ½ä¹¦</td>
</tr>
<tr>
<td>_a3</td>
<td>é€ å‹ä¹¦1</td>
</tr>
<tr>
<td>_a4</td>
<td>é€ å‹ä¹¦2</td>
</tr>
</tbody></table>
<h2 id="bsonæ–‡ä»¶"><a href="#bsonæ–‡ä»¶" class="headerlink" title="*.bsonæ–‡ä»¶"></a>*.bsonæ–‡ä»¶</h2><p><code>Bson</code>æŒ‰å­—é¢æ„æ€å°±æ˜¯(Binary Json)ï¼Œä¸€ç§äºŒè¿›åˆ¶çš„æ•°æ®æ ¼å¼ã€‚</p>
<p>å¹¿æ³›(å¹¶ä¸)ç”¨äºMongoDBæ•°æ®åº“çš„æ•°æ®æ ¼å¼ï¼Œåœ¨ä¸‡è±¡ä¸­bsonæ–‡ä»¶ä¹Ÿæ˜¯ä¸ºäº†å‹ç¼©æ–‡ä»¶å’Œåºåˆ—åŒ–è€Œè¢«ä½¿ç”¨ï¼Œä¾‹å­å°±æ˜¯<code>charAssets.bson</code>(è€ç‰ˆæœ¬,3.2æ›´æ–°ä»¥å‰)</p>
<h3 id="ä½¿ç”¨pythonè¯»å†™"><a href="#ä½¿ç”¨pythonè¯»å†™" class="headerlink" title="ä½¿ç”¨pythonè¯»å†™"></a>ä½¿ç”¨pythonè¯»å†™</h3><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">pip install bson<br></code></pre></td></tr></table></figure>

<p>å¦‚æœå®‰è£…è¿‡pymongoåº“ï¼Œè¯·å…ˆå¸è½½åå†å®‰è£…ã€‚å¦åˆ™ä¼šåº“çš„è·¯å¾„ä¸å¯¹å¯¼è‡´æ¨¡å—å¼•å…¥æŠ¥é”™</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">pip uninstall pymongo<br>pip install bson<br></code></pre></td></tr></table></figure>

<h4 id="è¯»å–"><a href="#è¯»å–" class="headerlink" title="è¯»å–"></a>è¯»å–</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">import bson<br><br>f = open(&#x27;metadata.bson&#x27;,&#x27;rb&#x27;)<br><br>data = bson.loads(f)<br></code></pre></td></tr></table></figure>

<h4 id="å†™å…¥"><a href="#å†™å…¥" class="headerlink" title="å†™å…¥"></a>å†™å…¥</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">import bson<br><br>data = bson.dumps()<br></code></pre></td></tr></table></figure>

<h2 id="charAssets-bson"><a href="#charAssets-bson" class="headerlink" title="charAssets.bson"></a>charAssets.bson</h2><blockquote>
<p>*æ³¨ï¼šç°ç‰ˆæœ¬å·²ç»å¤±æ•ˆ</p>
</blockquote>
<p>ä¸‡è±¡ç‰©è¯­è§’è‰²æŠ€èƒ½ç»„é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰è§’è‰²çš„æŠ€èƒ½ã€buffç­‰é…ç½®</p>
<p>è§’è‰²æŠ€èƒ½çš„é‡Šæ”¾éƒ½ä¾èµ–äºè¯¥æ–‡ä»¶ï¼Œç†è®ºä¸Šå¯¹æ­¤æ–‡ä»¶è¿›è¡Œä¿®æ”¹å¯ç›´æ¥å½±å“æ¸¸æˆå†…æŠ€èƒ½æ•ˆæœå’Œå€ç‡ç­‰</p>
<h3 id="è§£ç æ–¹å¼"><a href="#è§£ç æ–¹å¼" class="headerlink" title="è§£ç æ–¹å¼"></a>è§£ç æ–¹å¼</h3><p>ä½¿ç”¨pythonè„šæœ¬</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#!/usr/bin/env python<br># -*- encoding: utf-8 -*-<br># Author: Syaoran at Sdorica.dev<br><br>import json<br>import bson<br>import base64<br><br>bson_file = open(&#x27;charAssets.bson&#x27;,&#x27;rb&#x27;)<br>bson_file = base64.b64decode(bson_file.read())<br>bson_data = bson.loads(bson_file)<br><br>def replace():<br>	raw = json.dumps(bson_data) #raw<br>	raw = raw.replace(&#x27;\\&#x27;,&#x27;&#x27;) #replace \<br>	raw = raw.replace(&#x27;&quot;: &quot;&#123;&quot;&#x27;,&#x27;&quot;: &#123;&quot;&#x27;) #replace front &quot;<br>	raw = raw.replace(&#x27;&quot;&#125;&quot;,&#x27;,&#x27;&quot;&#125;,&#x27;) #replace back &quot;<br>	raw = raw.replace(&#x27;&quot;&#125;&quot;&#125;,&#x27;,&#x27;&quot;&#125;&#125;,&#x27;).replace(&#x27;&#125;&quot;&#125;&#125;&#x27;,&#x27;&#125;&#125;&#125;&#x27;) #replace special &quot;<br>	raw = raw.replace(&#x27;&quot;:.&#x27;,&#x27;&quot;:0.&#x27;).replace(&#x27;&quot;:-.&#x27;,&#x27;&quot;:-0.&#x27;) #add 0.<br>	return raw<br><br>raw = replace()<br><br>with open(&#x27;charAssets.json&#x27;,&#x27;w&#x27;) as f:<br>	f.write(raw)<br></code></pre></td></tr></table></figure>

<h2 id="CharAssets-zip"><a href="#CharAssets-zip" class="headerlink" title="CharAssets.zip"></a>CharAssets.zip</h2><p>æ–°ç‰ˆæœ¬æ›´æ–°åé‡‡ç”¨è¿™ç§æ–¹å¼æ¥å­˜æ”¾æŠ€èƒ½ç»„é…ç½®æ–‡ä»¶ã€‚ä½†æ˜¯ç›¸è¾ƒäºä¹‹å‰ï¼Œæ›´åŠ å®¹æ˜“è§£åŒ…</p>
<h3 id="è§£å‹"><a href="#è§£å‹" class="headerlink" title="è§£å‹"></a>è§£å‹</h3><p>é¦–å…ˆçœ‹åç¼€å°±çŸ¥é“æ˜¯å‹ç¼©æ–‡ä»¶æ ¼å¼(.zip)</p>
<h3 id="åˆ†æbson"><a href="#åˆ†æbson" class="headerlink" title="åˆ†æbson"></a>åˆ†æbson</h3><p>èµ·åˆæˆ‘ä»¥ä¸ºè¿˜æ˜¯å’Œä¹‹å‰ä¸€æ ·æ˜¯b64ç¼–ç çš„bsonæ–‡ä»¶ï¼Œè¯•äº†å¾ˆé•¿æ—¶é—´éƒ½æ²¡æˆåŠŸã€‚</p>
<p>åæ¥ç›´æ¥è¯»äºŒè¿›åˆ¶ï¼Œå‘ç°èƒ½çœ‹åˆ°éƒ¨åˆ†å†…å®¹ï¼ŒçŒœæƒ³åº”è¯¥æ˜¯æŸç§åºåˆ—åŒ–ã€‚åˆè¯•äº†ä¸€æ®µæ—¶é—´ï¼Œè¿˜æ˜¯æ²¡æœ‰å®Œç¾è¿˜åŸ</p>
<p>åæ¥çœ‹åˆ°æ–‡ä»¶å¤§å°çªç„¶é†’æ‚Ÿï¼Œ30Mçš„å†…å®¹å˜æˆ5Mï¼Œè‚¯å®šæ˜¯é‡‡ç”¨äº†å‹ç¼©æ ¼å¼ã€‚æ‰€ä»¥æˆ‘å°±ç”¨å‹ç¼©è½¯ä»¶æµ‹è¯•ï¼Œå‘ç°æœç„¶æ˜¯å‹ç¼©æ–‡æ¡£ã€‚éšåç¡®å®šå°±æ˜¯<code>gunzip()</code></p>
<p>ç»¼ä¸Šï¼Œåªéœ€è¦ä½¿ç”¨ä¸¤æ¬¡è§£å‹å³å¯è·å–æ•°æ®ï¼Œbsonå®Œå…¨æ˜¯ç³Šå¼„äººçš„</p>
<h3 id="è§£åŒ…"><a href="#è§£åŒ…" class="headerlink" title="è§£åŒ…"></a>è§£åŒ…</h3><p>å‹ç¼©å®Œæˆåå³æ˜¯jsonæ•°æ®æ ¼å¼ï¼Œæ— éœ€å…¶ä»–å¤„ç†</p>
<h3 id="ä½¿ç”¨pythonè„šæœ¬è‡ªåŠ¨åŒ–"><a href="#ä½¿ç”¨pythonè„šæœ¬è‡ªåŠ¨åŒ–" class="headerlink" title="ä½¿ç”¨pythonè„šæœ¬è‡ªåŠ¨åŒ–"></a>ä½¿ç”¨pythonè„šæœ¬è‡ªåŠ¨åŒ–</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#!/usr/bin/env python<br># -*- encoding: utf-8 -*-<br><br>import gzip<br>import zipfile<br>import os<br><br>class zippy:<br><br>    def unzip(self,bundle_path,dir_path):<br>        &quot;&quot;&quot;è§£å‹CharAsset.zip\n<br>        :param bundle_path: å‹ç¼©åŒ…åœ°å€\n<br>        :param dir_path: è§£å‹è·¯å¾„æ–‡ä»¶å¤¹&quot;&quot;&quot;<br>        zip_file = zipfile.ZipFile(bundle_path)<br>        zip_ls = zip_file.namelist()<br>        for f in zip_ls:<br>            zip_file.extract(f, dir_path)<br>        zip_file.close()<br><br>    def bson2json(self,bundle_path,dir_path,dst_path):<br>        &quot;&quot;&quot;æ‰¹é‡è½¬æ¢bsonæ–‡ä»¶ä¸ºjsonæ–‡ä»¶\n<br>        :param bundle_path: å‹ç¼©åŒ…åœ°å€\n<br>        :param dir_path: è§£å‹è·¯å¾„æ–‡ä»¶å¤¹\n<br>        :param dst_path: jsonæ–‡ä»¶è¾“å‡ºè·¯å¾„æ–‡ä»¶å¤¹<br>        &quot;&quot;&quot;<br>        if os.path.isfile(os.path.join(dir_path,&#x27;Manifest.bson&#x27;)) != True:<br>            self.unzip(bundle_path,dir_path)<br>        for root,dirs,files in os.walk(dir_path):<br>            for file_name in files:<br>                file_path = os.path.join(root,file_name)<br>                data = gzip.GzipFile(file_path,&#x27;rb&#x27;).read().decode()<br>                if os.path.isdir(dst_path) != True:<br>                    os.mkdir(dst_path)<br>                if os.path.isfile(os.path.join(dst_path,&#x27;Manifest.json&#x27;)) != True:<br>                    with open(os.path.join(dst_path,file_name).replace(&#x27;bson&#x27;,&#x27;json&#x27;),&#x27;w&#x27;,encoding=&#x27;utf8&#x27;) as f:<br>                        f.write(data)<br>                        f.close()<br>        del dirs<br></code></pre></td></tr></table></figure>

<h3 id="æ›´åŠ å®‰å…¨é«˜æ•ˆ"><a href="#æ›´åŠ å®‰å…¨é«˜æ•ˆ" class="headerlink" title="æ›´åŠ å®‰å…¨é«˜æ•ˆ"></a>æ›´åŠ å®‰å…¨é«˜æ•ˆ</h3><p>åœ¨åç»­ç ”ç©¶ä¸­å‘ç°ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼ï¼š</p>
<ul>
<li>ä¸€æ˜¯å¯ä»¥é™ä½å ç”¨çš„å†…å­˜ï¼Œåªæœ‰åœ¨åŠ è½½è¿›å…³å¡æ—¶æ‰ä¼šæ ¹æ®æ‰€éœ€è§’è‰²é‡Šæ”¾å‹ç¼©æ–‡ä»¶</li>
<li>äºŒæ˜¯é¢å¤–æ·»åŠ äº†Manifestæ–‡ä»¶ä½œä¸ºæ•°æ®çš„è´¨æ£€å‘˜ï¼Œå¯¹å„é¡¹æ–‡ä»¶è¿›è¡Œäº†å“ˆå¸Œå¤„ç†å¹¶åšäº†ä¸å¯é€†çš„åŠ å¯†ï¼Œè¾ƒä¸ºæœ‰æ•ˆçš„é˜²æ­¢äº†æ•°æ®çš„ç¯¡æ”¹</li>
</ul>
<h2 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h2><h3 id="BattleCharacter"><a href="#BattleCharacter" class="headerlink" title="BattleCharacter"></a>BattleCharacter</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">&#123;<br>    &quot;AssetsId&quot;:&#123;<br>        &quot;_power&quot;: 0,<br>        &quot;_armorCapacity&quot;: 0,<br>        &quot;_bloodCapacity&quot;: 0,<br>        &quot;_passiveBuff&quot;: &#123;<br>            &quot;$content&quot;: []<br>        &#125;,<br>        &quot;_levelStartBuff&quot;: &#123;<br>            &quot;$content&quot;: []<br>        &#125;,<br>        &quot;_characterAI&quot;: &#123;<br>            &quot;OrderList&quot;: &#123;<br>                &quot;$content&quot;: []<br>            &#125;,<br>            &quot;$type&quot;: &quot;BattleModel.SequenceEnemyAI&quot;<br>        &#125;,<br>        &quot;_stoneEraseSetting&quot;: &#123;<br>            &quot;$content&quot;: [<br>                &#123;<br>                    &quot;Key&quot;: 0,<br>                    &quot;Value&quot;: &quot;S1&quot;<br>                &#125;,<br>                &#123;<br>                    &quot;Key&quot;: 1,<br>                    &quot;Value&quot;: &quot;S2&quot;<br>                &#125;,<br>                &#123;<br>                    &quot;Key&quot;: 2,<br>                    &quot;Value&quot;: &quot;S3&quot;<br>                &#125;<br>            ]<br>        &#125;,<br>        &quot;_skillsetTable&quot;: &#123;&#125;,<br>        &quot;_skills&quot;: &#123;&#125;,<br>        &quot;_reviveCount&quot;: 0,<br>        &quot;_stoneType&quot;: 0,<br>        &quot;_assistantSkill&quot;: null,<br>        &quot;_initialCoolDown&quot;: 0,<br>        &quot;_defaultCoolDown&quot;: 0,<br>        &quot;_masterRank&quot;: 0,<br>        &quot;_mass&quot;: 1,<br>        &quot;_pose&quot;: &quot;Stand&quot;,<br>        &quot;ReferenceCharacterKeys&quot;: &#123;<br>            &quot;$content&quot;: []<br>        &#125;,<br>        &quot;ReferenceEffectKeys&quot;: &#123;<br>            &quot;$content&quot;: []<br>        &#125;,<br>        &quot;ReferenceBuffKeys&quot;: &#123;<br>            &quot;$content&quot;: []<br>        &#125;,<br>        &quot;ReferenceSFXKeys&quot;: &#123;<br>            &quot;$content&quot;: []<br>        &#125;,<br>        &quot;ReferenceVoiceSFXKeys&quot;: &#123;<br>            &quot;$content&quot;: []<br>        &#125;,<br>        &quot;ReferenceMusicKeys&quot;: &#123;<br>            &quot;$content&quot;: []<br>        &#125;,<br>        &quot;ReferenceEmoIconKeys&quot;: &#123;<br>            &quot;$content&quot;: []<br>        &#125;,<br>        &quot;$type&quot;: &quot;BattleModel.SummonSlot&quot;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="é”®å€¼å‚æ•°"><a href="#é”®å€¼å‚æ•°" class="headerlink" title="é”®å€¼å‚æ•°"></a>é”®å€¼å‚æ•°</h3><table>
<thead>
<tr>
<th>é”®</th>
<th>é‡Šä¹‰</th>
<th>è§’è‰²å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>AssetsId</td>
<td>èµ„äº§ç¼–å·&#x2F;åç§°</td>
<td>b0037s5</td>
</tr>
<tr>
<td>_power</td>
<td>åŸºç¡€æ”»å‡»åŠ›</td>
<td></td>
</tr>
<tr>
<td>_bloodCapacity</td>
<td>åŸºç¡€è¡€é‡</td>
<td></td>
</tr>
<tr>
<td>_armorCapacity</td>
<td>åŸºç¡€æŠ¤ç›¾å€¼</td>
<td></td>
</tr>
<tr>
<td>_passiveBuff</td>
<td>è¢«åŠ¨buff</td>
<td></td>
</tr>
<tr>
<td>_levelStartBuff</td>
<td>- (é˜¶æ®µå¼€å§‹æ•ˆæœ)</td>
<td></td>
</tr>
<tr>
<td>_characterAI</td>
<td>- (è§’è‰²AI)</td>
<td></td>
</tr>
<tr>
<td>_characterAI.OrderList</td>
<td>- (æŠ€èƒ½é¡ºåº)</td>
<td></td>
</tr>
<tr>
<td>_stoneEraseSetting</td>
<td>æŠ€èƒ½é­‚èŠ¯æ¶ˆé™¤è®¾å®š</td>
<td></td>
</tr>
</tbody></table><div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2021/02/12/notes/happy_new_year_2021/">â† Next 2021æ–°å¹´å¿«ä¹</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2020/12/27/tutorial/sdorica/spine_anime03/">SpineåŠ¨ç”»æ¨¡å‹æ•™ç¨‹-Chibiåœ¨çº¿å·¥å…·ä½¿ç”¨(ä¸‰) Prev â†’</a></div></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">âˆ§</a><a id="to-index" href="#toc-div" title="To Catalog">â‰¡</a><a id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="img/index/logo.png" alt="Logo"></a><h1 id="Dr"><a href="/">Dr.Syaoran</a></h1><div id="description"><p>ç§‘æŠ€æ”¹å˜ç”Ÿæ´»<br>Tech changes lives.</p></div><div id="social-links"><a class="social" target="_blank" rel="noopener" href="https://github.com/Syaoran33"><i class="fab fa-github" alt="GitHub"></i></a><a class="social" target="_blank" rel="noopener" href="https://space.bilibili.com/276567009"><i class="fab fa-bilibili" alt="Bilibili"></i></a><a class="social" target="_blank" rel="noopener" href="https://www.reddit.com/user/Shaoran33"><i class="fab fa-reddit" alt="Reddit"></i></a></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%84%E6%BA%90%E7%BC%96%E5%8F%B7"><span class="toc-number">1.</span> <span class="toc-text">èµ„æºç¼–å·</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.1.</span> <span class="toc-text">ç®€ä»‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E5%8F%B7%E7%89%B9%E5%BE%81"><span class="toc-number">1.2.</span> <span class="toc-text">ç¼–å·ç‰¹å¾</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%8D%E6%97%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">ç§æ—</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%80%E5%B1%9E"><span class="toc-number">1.2.2.</span> <span class="toc-text">æ‰€å±</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B6%E7%BA%A7"><span class="toc-number">1.2.3.</span> <span class="toc-text">é˜¶çº§</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%80%E8%83%BD%E4%B9%A6-%E9%80%A0%E5%9E%8B%E4%B9%A6"><span class="toc-number">1.2.4.</span> <span class="toc-text">æŠ€èƒ½ä¹¦\é€ å‹ä¹¦</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#bson%E6%96%87%E4%BB%B6"><span class="toc-number">2.</span> <span class="toc-text">*.bsonæ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8python%E8%AF%BB%E5%86%99"><span class="toc-number">2.1.</span> <span class="toc-text">ä½¿ç”¨pythonè¯»å†™</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">2.1.1.</span> <span class="toc-text">å®‰è£…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96"><span class="toc-number">2.1.2.</span> <span class="toc-text">è¯»å–</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%99%E5%85%A5"><span class="toc-number">2.1.3.</span> <span class="toc-text">å†™å…¥</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#charAssets-bson"><span class="toc-number">3.</span> <span class="toc-text">charAssets.bson</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E7%A0%81%E6%96%B9%E5%BC%8F"><span class="toc-number">3.1.</span> <span class="toc-text">è§£ç æ–¹å¼</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CharAssets-zip"><span class="toc-number">4.</span> <span class="toc-text">CharAssets.zip</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%8E%8B"><span class="toc-number">4.1.</span> <span class="toc-text">è§£å‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E6%9E%90bson"><span class="toc-number">4.2.</span> <span class="toc-text">åˆ†æbson</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E5%8C%85"><span class="toc-number">4.3.</span> <span class="toc-text">è§£åŒ…</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8python%E8%84%9A%E6%9C%AC%E8%87%AA%E5%8A%A8%E5%8C%96"><span class="toc-number">4.4.</span> <span class="toc-text">ä½¿ç”¨pythonè„šæœ¬è‡ªåŠ¨åŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E5%8A%A0%E5%AE%89%E5%85%A8%E9%AB%98%E6%95%88"><span class="toc-number">4.5.</span> <span class="toc-text">æ›´åŠ å®‰å…¨é«˜æ•ˆ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF"><span class="toc-number">5.</span> <span class="toc-text">æ¨¡æ¿</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#BattleCharacter"><span class="toc-number">5.1.</span> <span class="toc-text">BattleCharacter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%94%AE%E5%80%BC%E5%8F%82%E6%95%B0"><span class="toc-number">5.2.</span> <span class="toc-text">é”®å€¼å‚æ•°</span></a></li></ol></li></ol></div></div><footer><nobr><span class="text-title">ğŸ§‘ğŸ»â€ğŸ’»</span><span class="text-content">å°ç‹¼  Syaoran</span></nobr><br><nobr><span class="text-title">ğŸŒ</span><span class="text-content">2020-Present</span></nobr><br><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>